@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here.
All colors MUST be HSL.

UX ACCESSIBILITY AUDIT DESIGN TOKENS
====================================
- Typography: 18px base, Open Sans/Roboto
- Touch Targets: 44px minimum
- Contrast: 4.5:1 minimum ratio
- Colors: Calming blues/greens (reduced anxiety)
- Target: Middle-aged/elderly women with cognitive load considerations
*/

@layer base {
  :root {
    /* ========================================
       UX AUDIT: Accessible Color Palette
       Calming blues/teals to reduce healthcare anxiety
       All combinations tested for 4.5:1+ contrast
       ======================================== */

    /* Background Colors */
    --background: 210 20% 98%;           /* Warm white with blue undertone */
    --foreground: 220 25% 12%;           /* Dark charcoal - high contrast */

    --card: 0 0% 100%;
    --card-foreground: 220 25% 12%;

    --popover: 0 0% 100%;
    --popover-foreground: 220 25% 12%;

    /* Primary: Calming Blue - main CTAs, links, focus states */
    --primary: 207 55% 35%;              /* #2E5A88 - Calming Blue */
    --primary-foreground: 0 0% 100%;

    /* Secondary: Soft Teal - secondary actions, icons */
    --secondary: 168 35% 45%;            /* #4A9B8F - Soft Teal */
    --secondary-foreground: 0 0% 100%;

    --muted: 210 15% 94%;
    --muted-foreground: 220 15% 40%;     /* #5A5A72 equivalent */

    /* Accent: Gentle Sage - wellness, positive states */
    --accent: 155 30% 40%;               /* #3D8B6E - Gentle Green */
    --accent-foreground: 0 0% 100%;

    /* Semantic Colors */
    --destructive: 0 45% 45%;            /* Muted rose - less alarming */
    --destructive-foreground: 0 0% 100%;

    --success: 155 35% 38%;              /* #3D8B6E - Gentle Green */
    --success-foreground: 0 0% 100%;

    --warning: 38 65% 50%;               /* #D4973B - Soft Amber */
    --warning-foreground: 220 25% 12%;

    --border: 210 20% 88%;
    --input: 210 20% 92%;
    --ring: 207 55% 35%;                 /* Match primary for focus */

    --radius: 0.75rem;                   /* Slightly softer corners */

    /* ========================================
       Legacy Brand Palette (maintained for compatibility)
       ======================================== */
    --mumtaz-lilac: 280 40% 70%;
    --mumtaz-sage: 155 30% 45%;          /* Updated to match new palette */
    --mumtaz-plum: 280 50% 35%;
    --mumtaz-sand: 35 35% 88%;
    --mumtaz-warm-white: 210 20% 98%;    /* Updated to match background */

    /* Dosha element colors */
    --dosha-pitta: 25 85% 50%;           /* Slightly muted for accessibility */
    --dosha-vata: 200 70% 50%;
    --dosha-kapha: 155 35% 40%;

    /* Sidebar */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 220 25% 12%;
    --sidebar-primary: 207 55% 35%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 210 15% 94%;
    --sidebar-accent-foreground: 220 25% 12%;
    --sidebar-border: 210 20% 88%;
    --sidebar-ring: 207 55% 35%;

    /* ========================================
       UX AUDIT: Focus & Interaction States
       High visibility for keyboard/assistive tech users
       ======================================== */
    --focus-ring-width: 3px;
    --focus-ring-offset: 2px;
    --focus-ring-color: 207 55% 35%;
  }

  /* ========================================
     UX AUDIT: Dark Mode (Accessible)
     Maintains calming blue/teal palette
     All contrasts tested for 4.5:1+ ratio
     ======================================== */
  .dark {
    --background: 215 25% 10%;           /* Dark blue-gray */
    --foreground: 210 20% 96%;           /* Light for contrast */

    --card: 215 20% 14%;
    --card-foreground: 210 20% 96%;

    --popover: 215 20% 14%;
    --popover-foreground: 210 20% 96%;

    --primary: 207 55% 55%;              /* Lighter calming blue */
    --primary-foreground: 215 25% 10%;

    --secondary: 168 30% 40%;            /* Adjusted teal */
    --secondary-foreground: 210 20% 96%;

    --muted: 215 15% 20%;
    --muted-foreground: 210 15% 65%;

    --accent: 155 35% 45%;               /* Adjusted sage */
    --accent-foreground: 215 25% 10%;

    --destructive: 0 50% 50%;
    --destructive-foreground: 210 20% 96%;

    --success: 155 40% 45%;
    --success-foreground: 215 25% 10%;

    --warning: 38 60% 55%;
    --warning-foreground: 215 25% 10%;

    --border: 215 15% 25%;
    --input: 215 15% 22%;
    --ring: 207 55% 55%;

    --sidebar-background: 215 20% 14%;
    --sidebar-foreground: 210 20% 96%;
    --sidebar-primary: 207 55% 55%;
    --sidebar-primary-foreground: 215 25% 10%;
    --sidebar-accent: 215 15% 20%;
    --sidebar-accent-foreground: 210 20% 96%;
    --sidebar-border: 215 15% 25%;
    --sidebar-ring: 207 55% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  /* ========================================
     UX AUDIT: Base Typography
     18px minimum for elderly user readability
     ======================================== */
  html {
    font-size: 18px;  /* Base: 18px per UX Audit requirement */
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  body {
    @apply bg-background text-foreground font-body;
    font-family: 'Open Sans', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size: 1rem;           /* 18px */
    line-height: 1.6;          /* Improved readability */
    letter-spacing: 0.01em;    /* Slight letter spacing for clarity */
  }

  /* Heading scale per UX Audit */
  h1 {
    font-family: 'Open Sans', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size: 2rem;           /* 32px */
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.02em;
  }

  h2 {
    font-family: 'Open Sans', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size: 1.625rem;       /* 26px */
    font-weight: 700;
    line-height: 1.3;
    letter-spacing: -0.02em;
  }

  h3 {
    font-family: 'Open Sans', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size: 1.375rem;       /* 22px */
    font-weight: 600;
    line-height: 1.4;
    letter-spacing: -0.01em;
  }

  h4, h5, h6 {
    font-family: 'Open Sans', 'Roboto', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size: 1.25rem;        /* 20px */
    font-weight: 600;
    line-height: 1.4;
  }

  .font-accent {
    font-family: 'Nunito', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }

  /* Smooth animations (reduced motion respected) */
  @media (prefers-reduced-motion: no-preference) {
    * {
      @apply transition-colors duration-200;
    }
  }

  /* ========================================
     UX AUDIT: Universal Touch Targets
     44px minimum for all interactive elements
     (Not just mobile - elderly users on all devices)
     ======================================== */
  button,
  [role="button"],
  a:not(.inline-link) {
    min-height: 2.75rem;       /* 44px touch target */
    padding: 0.5rem 1rem;
  }

  /* Form inputs: 48px for comfortable interaction */
  input,
  select,
  textarea {
    min-height: 3rem;          /* 48px */
    font-size: 1rem;           /* 18px - prevents iOS zoom */
    padding: 0.75rem 1rem;
    @apply rounded-lg;
  }

  /* Rounded, soft UI */
  button {
    @apply rounded-lg;
  }

  /* Subtle watermark effect */
  .watermark-lotus {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    opacity: 0.03;
    pointer-events: none;
    width: 200px;
    height: 200px;
    z-index: 0;
  }

  /* Animated Pose Demo Animations */
  @keyframes breathe {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.15); }
  }

  @keyframes breathe-outer {
    0%, 100% { transform: scale(1); opacity: 0.3; }
    50% { transform: scale(1.25); opacity: 0.1; }
  }

  @keyframes breathe-ring {
    0%, 100% { transform: scale(1); opacity: 0.2; }
    50% { transform: scale(1.2); opacity: 0; }
  }

  @keyframes breathe-text {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
  }

  @keyframes breathe-subtle {
    0%, 100% { transform: scaleY(1); }
    50% { transform: scaleY(1.05); }
  }

  @keyframes bob {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
  }

  @keyframes steam {
    0% { opacity: 0.4; transform: translateY(0); }
    50% { opacity: 0.2; transform: translateY(-8px); }
    100% { opacity: 0; transform: translateY(-15px); }
  }

  @keyframes shoulder-circle {
    0% { transform: translate(0, 0); }
    25% { transform: translate(3px, -3px); }
    50% { transform: translate(0, -5px); }
    75% { transform: translate(-3px, -3px); }
    100% { transform: translate(0, 0); }
  }

  @keyframes shoulder-circle-reverse {
    0% { transform: translate(0, 0); }
    25% { transform: translate(-3px, -3px); }
    50% { transform: translate(0, -5px); }
    75% { transform: translate(3px, -3px); }
    100% { transform: translate(0, 0); }
  }

  @keyframes wrist-rotate {
    0%, 100% { transform: rotate(0deg); }
    50% { transform: rotate(180deg); }
  }

  @keyframes cat-cow {
    0%, 100% { transform: scaleY(1); }
    50% { transform: scaleY(0.9); }
  }

  .animate-breathe {
    animation: breathe 6s ease-in-out infinite;
  }

  .animate-breathe-outer {
    animation: breathe-outer 6s ease-in-out infinite;
  }

  .animate-breathe-ring {
    animation: breathe-ring 6s ease-in-out infinite;
  }

  .animate-breathe-text {
    animation: breathe-text 6s ease-in-out infinite;
  }

  .animate-breathe-subtle {
    animation: breathe-subtle 4s ease-in-out infinite;
  }

  .animate-bob {
    animation: bob 2s ease-in-out infinite;
  }

  .animate-steam {
    animation: steam 3s ease-in-out infinite;
  }

  .animate-shoulder-circle {
    animation: shoulder-circle 2s ease-in-out infinite;
  }

  .animate-shoulder-circle-reverse {
    animation: shoulder-circle-reverse 2s ease-in-out infinite;
  }

  .animate-wrist-rotate {
    animation: wrist-rotate 3s ease-in-out infinite;
  }

  .animate-cat-cow {
    animation: cat-cow 4s ease-in-out infinite;
  }

  /* Hide scrollbar for touch-scrollable elements */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Safe area padding for mobile devices */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }

  /* Bottom padding for pages when mobile nav is visible */
  @media (max-width: 767px) {
    .mobile-nav-padding {
      padding-bottom: 80px; /* Height of bottom nav + some breathing room */
    }

    /* Apply to main content areas automatically */
    main,
    .container {
      padding-bottom: 80px;
    }
  }

  /* ========================================
     UX AUDIT: Focus States
     High visibility for keyboard navigation
     ======================================== */
  *:focus-visible {
    outline: 3px solid hsl(var(--primary));
    outline-offset: 2px;
    border-radius: var(--radius);
  }

  /* Remove default outline, use custom focus ring */
  *:focus:not(:focus-visible) {
    outline: none;
  }

  /* Enhanced focus for buttons */
  button:focus-visible,
  [role="button"]:focus-visible {
    outline: 3px solid hsl(var(--primary));
    outline-offset: 2px;
    box-shadow: 0 0 0 4px hsl(var(--primary) / 0.2);
  }

  /* Enhanced focus for form elements */
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    outline: 2px solid hsl(var(--primary));
    outline-offset: 0;
    border-color: hsl(var(--primary));
  }

  /* ========================================
     UX AUDIT: Accessibility Utilities
     ======================================== */

  /* Skip to main content link (screen readers) */
  .skip-link {
    position: absolute;
    top: -100%;
    left: 0;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
    padding: 1rem;
    z-index: 9999;
  }

  .skip-link:focus {
    top: 0;
  }

  /* Reduced motion preference */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* High contrast mode support */
  @media (prefers-contrast: high) {
    :root {
      --border: 220 25% 30%;
      --ring: 207 70% 25%;
    }
  }
}
